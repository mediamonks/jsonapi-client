{"id":"ZuaR","dependencies":[{"name":"/Users/nathanuphoff/Projects/~lab/jsonapi-client/tsconfig.json","includedInParent":true,"mtime":1563545694388},{"name":"/Users/nathanuphoff/Projects/~lab/jsonapi-client/examples/jsonapi-server/package.json","includedInParent":true,"mtime":1565006981869},{"name":"../utils/constants","loc":{"line":1,"column":54},"parent":"/Users/nathanuphoff/Projects/~lab/jsonapi-client/src/lib/Api.ts","resolved":"/Users/nathanuphoff/Projects/~lab/jsonapi-client/src/utils/constants.ts"},{"name":"../utils/types","loc":{"line":2,"column":60},"parent":"/Users/nathanuphoff/Projects/~lab/jsonapi-client/src/lib/Api.ts","resolved":"/Users/nathanuphoff/Projects/~lab/jsonapi-client/src/utils/types.ts"},{"name":"./ApiController","loc":{"line":3,"column":30},"parent":"/Users/nathanuphoff/Projects/~lab/jsonapi-client/src/lib/Api.ts","resolved":"/Users/nathanuphoff/Projects/~lab/jsonapi-client/src/lib/ApiController.ts"},{"name":"./ApiEndpoint","loc":{"line":4,"column":28},"parent":"/Users/nathanuphoff/Projects/~lab/jsonapi-client/src/lib/Api.ts","resolved":"/Users/nathanuphoff/Projects/~lab/jsonapi-client/src/lib/ApiEndpoint.ts"},{"name":"./ApiEvent","loc":{"line":5,"column":25},"parent":"/Users/nathanuphoff/Projects/~lab/jsonapi-client/src/lib/Api.ts","resolved":"/Users/nathanuphoff/Projects/~lab/jsonapi-client/src/lib/ApiEvent.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Api=void 0;var e=require(\"../utils/constants\"),n=require(\"../utils/types\"),t=require(\"./ApiController\"),i=require(\"./ApiEndpoint\"),r=require(\"./ApiEvent\");function o(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}function s(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,n,t){return n&&s(e.prototype,n),t&&s(e,t),e}var a=function(){function r(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,r),e.__DEV__&&n.isNonEmptyURI.assert(i,\"Api url\"),this.url=i,this.version=\"version\"in s?n.isJsonApiVersion.assert(s.version):e.JsonApiVersion[\"1_0\"],this.encodeFieldName=\"encodeFieldName\"in s?n.isFunction.assert(s.encodeFieldName):function(e){return e},this.beforeRequest=\"beforeRequest\"in s?n.isFunction.assert(s.beforeRequest):function(e){return e},t.ApiController.add(Object.freeze(this))}return u(r,[{key:\"listen\",value:function(e){var n=this;return t.ApiController.get(this).addEventListener(function(t,i){i===n&&e(t)})}},{key:\"on\",value:function(e,n){return this.listen(function(t){t.type===e&&n(t)})}},{key:\"endpoint\",value:function(e,n){return t.ApiController.get(this).addApiResource(n),new i.ApiEndpoint(this,e,n)}}]),r}();exports.Api=a,a.EventType=e.ApiEventType,a.Event=r.ApiEvent;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":0}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":13}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":20}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":35}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":43}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":56}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":57}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":64}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":68}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":76}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":85}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":87}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":93}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":101}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":123}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":125}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":133}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":151}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":153}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":161}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":180}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":182}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":190}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":207}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":209}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":217}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":231}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":240}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":242}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":244}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":247}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":252}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":265}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":268}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":274}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":278}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":288}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":325}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":334}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":336}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":338}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":341}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":345}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":349}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":351}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":353}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":355}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":357}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":364}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":368}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":369}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":373}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":375}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":377}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":380}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":382}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":393}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":395}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":408}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":410}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":412}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":426}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":428}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":438}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":442}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":444}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":454}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":457}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":464}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":479}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":481}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":483}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":487}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":491}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":500}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":502}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":504}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":506}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":509}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":516}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":519}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":521}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":523}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":533}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":536}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":539}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":541}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":543}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":546}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":17,"column":13},"generated":{"line":1,"column":548}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":17,"column":13},"generated":{"line":1,"column":552}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":554}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":26,"column":14},"generated":{"line":1,"column":565}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":26,"column":14},"generated":{"line":1,"column":574}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":26,"column":14},"generated":{"line":1,"column":576}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":26,"column":27},"generated":{"line":1,"column":579}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":26,"column":27},"generated":{"line":1,"column":583}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":26,"column":54},"generated":{"line":1,"column":585}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":26,"column":54},"generated":{"line":1,"column":595}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":26,"column":54},"generated":{"line":1,"column":602}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":26,"column":54},"generated":{"line":1,"column":610}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":26,"column":54},"generated":{"line":1,"column":614}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":26,"column":54},"generated":{"line":1,"column":624}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":26,"column":54},"generated":{"line":1,"column":627}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":26,"column":54},"generated":{"line":1,"column":637}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":26,"column":54},"generated":{"line":1,"column":640}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":26,"column":56},"generated":{"line":1,"column":643}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":26,"column":56},"generated":{"line":1,"column":645}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":26,"column":56},"generated":{"line":1,"column":650}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":27,"column":8},"generated":{"line":1,"column":653}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":1,"column":655}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":28,"column":20},"generated":{"line":1,"column":664}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":28,"column":20},"generated":{"line":1,"column":666}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":28,"column":20},"generated":{"line":1,"column":680}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":28,"column":27},"generated":{"line":1,"column":687}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":28,"column":32},"generated":{"line":1,"column":689}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":30,"column":9},"generated":{"line":1,"column":700}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":30,"column":9},"generated":{"line":1,"column":705}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":30,"column":15},"generated":{"line":1,"column":709}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":31,"column":9},"generated":{"line":1,"column":711}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":31,"column":9},"generated":{"line":1,"column":716}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":32,"column":6},"generated":{"line":1,"column":724}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":32,"column":19},"generated":{"line":1,"column":736}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":33,"column":10},"generated":{"line":1,"column":738}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":33,"column":27},"generated":{"line":1,"column":740}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":33,"column":27},"generated":{"line":1,"column":757}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":33,"column":34},"generated":{"line":1,"column":764}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":33,"column":40},"generated":{"line":1,"column":766}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":34,"column":10},"generated":{"line":1,"column":775}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":34,"column":25},"generated":{"line":1,"column":777}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":34,"column":25},"generated":{"line":1,"column":792}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":1,"column":799}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":1,"column":804}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":36,"column":6},"generated":{"line":1,"column":820}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":36,"column":27},"generated":{"line":1,"column":840}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":37,"column":11},"generated":{"line":1,"column":842}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":37,"column":22},"generated":{"line":1,"column":844}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":37,"column":22},"generated":{"line":1,"column":855}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":37,"column":29},"generated":{"line":1,"column":862}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":37,"column":35},"generated":{"line":1,"column":864}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":38,"column":10},"generated":{"line":1,"column":881}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":38,"column":11},"generated":{"line":1,"column":890}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":38,"column":29},"generated":{"line":1,"column":893}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":38,"column":29},"generated":{"line":1,"column":900}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":39,"column":9},"generated":{"line":1,"column":903}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":39,"column":9},"generated":{"line":1,"column":908}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":40,"column":6},"generated":{"line":1,"column":922}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":40,"column":25},"generated":{"line":1,"column":940}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":41,"column":11},"generated":{"line":1,"column":942}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":41,"column":22},"generated":{"line":1,"column":944}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":41,"column":22},"generated":{"line":1,"column":955}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":41,"column":29},"generated":{"line":1,"column":962}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":41,"column":35},"generated":{"line":1,"column":964}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":42,"column":10},"generated":{"line":1,"column":979}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":42,"column":11},"generated":{"line":1,"column":988}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":42,"column":26},"generated":{"line":1,"column":991}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":42,"column":26},"generated":{"line":1,"column":998}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":43,"column":18},"generated":{"line":1,"column":1001}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":43,"column":18},"generated":{"line":1,"column":1003}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":43,"column":18},"generated":{"line":1,"column":1017}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":1,"column":1021}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":43,"column":29},"generated":{"line":1,"column":1028}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":43,"column":36},"generated":{"line":1,"column":1035}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":1042}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":1049}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":1051}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":1053}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":1054}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":1055}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":1059}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":46,"column":9},"generated":{"line":1,"column":1068}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":46,"column":9},"generated":{"line":1,"column":1074}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":46,"column":9},"generated":{"line":1,"column":1083}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":46,"column":33},"generated":{"line":1,"column":1086}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":46,"column":33},"generated":{"line":1,"column":1090}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":46,"column":33},"generated":{"line":1,"column":1092}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":47,"column":11},"generated":{"line":1,"column":1097}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":47,"column":11},"generated":{"line":1,"column":1104}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":47,"column":25},"generated":{"line":1,"column":1106}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":47,"column":25},"generated":{"line":1,"column":1120}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":47,"column":29},"generated":{"line":1,"column":1124}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":47,"column":35},"generated":{"line":1,"column":1130}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":48,"column":6},"generated":{"line":1,"column":1147}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":48,"column":7},"generated":{"line":1,"column":1156}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":48,"column":29},"generated":{"line":1,"column":1158}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":49,"column":12},"generated":{"line":1,"column":1161}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":49,"column":23},"generated":{"line":1,"column":1165}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":50,"column":10},"generated":{"line":1,"column":1168}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":50,"column":18},"generated":{"line":1,"column":1170}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":1177}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":1178}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":1182}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":56,"column":29},"generated":{"line":1,"column":1187}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":56,"column":29},"generated":{"line":1,"column":1193}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":56,"column":29},"generated":{"line":1,"column":1202}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":56,"column":43},"generated":{"line":1,"column":1204}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":57,"column":11},"generated":{"line":1,"column":1207}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":57,"column":11},"generated":{"line":1,"column":1214}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":57,"column":16},"generated":{"line":1,"column":1219}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":57,"column":23},"generated":{"line":1,"column":1226}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":57,"column":24},"generated":{"line":1,"column":1235}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":58,"column":10},"generated":{"line":1,"column":1238}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":58,"column":16},"generated":{"line":1,"column":1240}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":58,"column":25},"generated":{"line":1,"column":1247}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":59,"column":8},"generated":{"line":1,"column":1250}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":59,"column":16},"generated":{"line":1,"column":1252}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":1259}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":1260}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":1264}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":65,"column":4},"generated":{"line":1,"column":1275}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":65,"column":4},"generated":{"line":1,"column":1281}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":65,"column":4},"generated":{"line":1,"column":1290}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":66,"column":4},"generated":{"line":1,"column":1292}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":71,"column":11},"generated":{"line":1,"column":1295}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":70,"column":18},"generated":{"line":1,"column":1302}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":70,"column":18},"generated":{"line":1,"column":1304}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":70,"column":18},"generated":{"line":1,"column":1318}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":70,"column":22},"generated":{"line":1,"column":1322}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":70,"column":28},"generated":{"line":1,"column":1328}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":70,"column":43},"generated":{"line":1,"column":1343}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":71,"column":11},"generated":{"line":1,"column":1346}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":71,"column":15},"generated":{"line":1,"column":1350}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":71,"column":11},"generated":{"line":1,"column":1352}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":71,"column":45},"generated":{"line":1,"column":1364}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":71,"column":51},"generated":{"line":1,"column":1369}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":71,"column":57},"generated":{"line":1,"column":1371}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":1378}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":1380}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":1383}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":1391}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":1395}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":18,"column":18},"generated":{"line":1,"column":1397}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":18,"column":18},"generated":{"line":1,"column":1399}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":18,"column":30},"generated":{"line":1,"column":1409}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":18,"column":18},"generated":{"line":1,"column":1411}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":1424}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":1426}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":26},"generated":{"line":1,"column":1432}},{"source":"../../src/lib/Api.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":1434}}],"sources":{"../../src/lib/Api.ts":"import { __DEV__, ApiEventType, JsonApiVersion } from '../utils/constants'\nimport {\n  ApiEventHandler,\n  ApiEventOrigin,\n  ApiPath,\n  ApiSetup,\n  ApiURL,\n  ResourceConstructor,\n  ResourceFragmentOptions,\n  Transform,\n} from '../utils/generics'\nimport { isFunction, isNonEmptyURI, isJsonApiVersion } from '../utils/types'\nimport { ApiController } from './ApiController'\nimport { ApiEndpoint } from './ApiEndpoint'\nimport { ApiEvent } from './ApiEvent'\n\nexport class Api {\n  static readonly EventType = ApiEventType\n  static readonly Event = ApiEvent\n\n  readonly url: ApiURL\n  readonly version: ApiSetup['version']\n  readonly encodeFieldName: ApiSetup['encodeFieldName']\n  readonly beforeRequest: ApiSetup['beforeRequest']\n\n  constructor(url: ApiURL, setup: Partial<ApiSetup> = {}) {\n    if (__DEV__) {\n      isNonEmptyURI.assert(url, 'Api url')\n    }\n    this.url = url\n    this.version =\n      'version' in setup\n        ? isJsonApiVersion.assert(setup.version)\n        : JsonApiVersion['1_0']\n    this.encodeFieldName =\n      'encodeFieldName' in setup\n        ? (isFunction.assert(setup.encodeFieldName) as Transform<string>)\n        : (value: string) => value\n    this.beforeRequest =\n      'beforeRequest' in setup\n        ? (isFunction.assert(setup.beforeRequest) as Transform<any>) // todo: define any\n        : (value: any) => value\n    ApiController.add(Object.freeze(this))\n  }\n\n  listen(handler: ApiEventHandler) {\n    return ApiController.get(this).addEventListener(\n      (event: ApiEvent<any>, origin: ApiEventOrigin) => {\n        if (origin === this) {\n          handler(event)\n        }\n      },\n    )\n  }\n\n  on<T extends ApiEventType>(eventType: T, handler: ApiEventHandler) {\n    return this.listen((event: ApiEvent<T>) => {\n      if (event.type === eventType) {\n        handler(event)\n      }\n    })\n  }\n\n  endpoint<C extends ResourceConstructor<InstanceType<C>>>(\n    path: ApiPath,\n    Resource: C,\n  ) {\n    type Model = InstanceType<C>\n    type Fields = ResourceFragmentOptions<Model>\n    ApiController.get(this).addApiResource(Resource)\n    return new ApiEndpoint<C, Model, Fields>(this, path, Resource)\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"d2c6194b8c82d0d5416b822d653c7d96","cacheData":{"env":{}}}