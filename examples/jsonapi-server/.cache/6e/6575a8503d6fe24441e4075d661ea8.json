{"id":"../../src/lib/ApiSetup.ts","dependencies":[{"name":"/Users/nathanuphoff/Projects/~lab/x/tsconfig.json","includedInParent":true,"mtime":1567504672900},{"name":"/Users/nathanuphoff/Projects/~lab/x/examples/jsonapi-server/package.json","includedInParent":true,"mtime":1567504672876}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mergeApiDefaultSetup = exports.jsonApiVersions = exports.defaultIncludeFieldOptions = void 0;\n\nvar _jsonApiVersions;\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar mergeApiSetup = function mergeApiSetup(defaults) {\n  return function (setup) {\n    return _objectSpread({}, setup, defaults);\n  };\n};\n\nvar defaultIncludeFieldOptions = {\n  NONE: 'none',\n  PRIMARY: 'primary'\n};\nexports.defaultIncludeFieldOptions = defaultIncludeFieldOptions;\nvar jsonApiVersions = (_jsonApiVersions = {}, _defineProperty(_jsonApiVersions, '1_0', '1.0'), _defineProperty(_jsonApiVersions, '1_1', '1.1'), _jsonApiVersions);\nexports.jsonApiVersions = jsonApiVersions;\n\nvar reflect = function reflect(value) {\n  return value;\n};\n\nvar mergeApiDefaultSetup = mergeApiSetup({\n  version: jsonApiVersions['1_0'],\n  defaultIncludeFields: defaultIncludeFieldOptions.NONE,\n  createPageQuery: reflect,\n  parseRequestError: reflect\n});\nexports.mergeApiDefaultSetup = mergeApiDefaultSetup;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":14,"column":0}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":5,"column":6},"generated":{"line":14,"column":4}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":5,"column":19},"generated":{"line":14,"column":17}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":5,"column":22},"generated":{"line":14,"column":20}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":5,"column":6},"generated":{"line":14,"column":29}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":5,"column":22},"generated":{"line":14,"column":42}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":5,"column":23},"generated":{"line":14,"column":43}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":5,"column":22},"generated":{"line":14,"column":51}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":5,"column":22},"generated":{"line":15,"column":0}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":5,"column":46},"generated":{"line":15,"column":9}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":6,"column":2},"generated":{"line":15,"column":19}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":5,"column":46},"generated":{"line":15,"column":24}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":5,"column":46},"generated":{"line":16,"column":0}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":8,"column":5},"generated":{"line":16,"column":29}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":5,"column":46},"generated":{"line":16,"column":34}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":9,"column":5},"generated":{"line":16,"column":36}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":5,"column":46},"generated":{"line":16,"column":44}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":5,"column":46},"generated":{"line":17,"column":0}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":5,"column":22},"generated":{"line":17,"column":3}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":5,"column":22},"generated":{"line":18,"column":0}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":18,"column":1}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":12,"column":7},"generated":{"line":20,"column":0}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":12,"column":13},"generated":{"line":20,"column":4}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":12,"column":39},"generated":{"line":20,"column":30}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":12,"column":42},"generated":{"line":20,"column":33}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":13,"column":2},"generated":{"line":21,"column":0}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":13,"column":2},"generated":{"line":21,"column":2}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":13,"column":6},"generated":{"line":21,"column":6}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":13,"column":8},"generated":{"line":21,"column":8}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":12,"column":42},"generated":{"line":21,"column":14}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":22,"column":0}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":22,"column":2}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":22,"column":9}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":14,"column":11},"generated":{"line":22,"column":11}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":12,"column":42},"generated":{"line":23,"column":0}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":12,"column":7},"generated":{"line":23,"column":1}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":21,"column":7},"generated":{"line":25,"column":0}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":21,"column":13},"generated":{"line":25,"column":4}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":21,"column":28},"generated":{"line":25,"column":19}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":22,"column":3},"generated":{"line":25,"column":80}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":21,"column":28},"generated":{"line":25,"column":85}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":22,"column":11},"generated":{"line":25,"column":87}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":21,"column":28},"generated":{"line":25,"column":92}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":23,"column":3},"generated":{"line":25,"column":129}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":21,"column":28},"generated":{"line":25,"column":134}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":23,"column":11},"generated":{"line":25,"column":136}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":21,"column":28},"generated":{"line":25,"column":141}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":21,"column":7},"generated":{"line":25,"column":161}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":28,"column":0}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":62,"column":6},"generated":{"line":28,"column":4}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":62,"column":13},"generated":{"line":28,"column":11}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":62,"column":16},"generated":{"line":28,"column":14}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":62,"column":6},"generated":{"line":28,"column":23}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":62,"column":16},"generated":{"line":28,"column":30}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":62,"column":20},"generated":{"line":28,"column":31}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":62,"column":16},"generated":{"line":28,"column":36}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":62,"column":16},"generated":{"line":29,"column":0}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":62,"column":36},"generated":{"line":29,"column":9}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":62,"column":16},"generated":{"line":29,"column":14}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":62,"column":16},"generated":{"line":30,"column":0}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":30,"column":1}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":64,"column":7},"generated":{"line":32,"column":0}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":64,"column":13},"generated":{"line":32,"column":4}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":64,"column":33},"generated":{"line":32,"column":24}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":64,"column":36},"generated":{"line":32,"column":27}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":64,"column":49},"generated":{"line":32,"column":40}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":64,"column":50},"generated":{"line":32,"column":41}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":65,"column":2},"generated":{"line":33,"column":0}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":65,"column":2},"generated":{"line":33,"column":2}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":65,"column":9},"generated":{"line":33,"column":9}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":65,"column":11},"generated":{"line":33,"column":11}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":65,"column":26},"generated":{"line":33,"column":26}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":65,"column":27},"generated":{"line":33,"column":27}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":65,"column":26},"generated":{"line":33,"column":32}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":64,"column":50},"generated":{"line":33,"column":33}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":66,"column":2},"generated":{"line":34,"column":0}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":66,"column":2},"generated":{"line":34,"column":2}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":66,"column":22},"generated":{"line":34,"column":22}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":66,"column":24},"generated":{"line":34,"column":24}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":66,"column":50},"generated":{"line":34,"column":50}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":66,"column":51},"generated":{"line":34,"column":51}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":64,"column":50},"generated":{"line":34,"column":55}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":67,"column":2},"generated":{"line":35,"column":0}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":67,"column":2},"generated":{"line":35,"column":2}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":67,"column":17},"generated":{"line":35,"column":17}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":67,"column":19},"generated":{"line":35,"column":19}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":64,"column":50},"generated":{"line":35,"column":26}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":68,"column":2},"generated":{"line":36,"column":0}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":68,"column":2},"generated":{"line":36,"column":2}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":68,"column":19},"generated":{"line":36,"column":19}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":68,"column":21},"generated":{"line":36,"column":21}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":64,"column":50},"generated":{"line":37,"column":0}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":64,"column":49},"generated":{"line":37,"column":1}},{"source":"../../src/lib/ApiSetup.ts","name":null,"original":{"line":64,"column":7},"generated":{"line":37,"column":2}}],"sources":{"../../src/lib/ApiSetup.ts":"import { ApiQueryParameter } from './ApiQuery'\nimport { JsonApiErrorData, ApiErrorResponse } from '../types/data'\nimport { Transform, ValuesOf } from '../types/util'\n\nconst mergeApiSetup = (defaults: ApiSetup) => (\n  setup: Partial<ApiSetup>,\n): ApiSetupWithDefaults<any> => ({\n  ...setup,\n  ...defaults,\n})\n\nexport const defaultIncludeFieldOptions = {\n  NONE: 'none',\n  PRIMARY: 'primary',\n} as const\n\nexport type DefaultIncludeFieldsOptions = typeof defaultIncludeFieldOptions\n\nexport type DefaultIncludeFields = ValuesOf<DefaultIncludeFieldsOptions>\n\nexport const jsonApiVersions = {\n  ['1_0']: '1.0',\n  ['1_1']: '1.1',\n} as const\n\nexport type JsonApiVersions = typeof jsonApiVersions\n\nexport type JsonApiVersion = ValuesOf<JsonApiVersions>\n\nexport type CreatePageQuery<\n  I extends ApiQueryParameter,\n  O extends ApiQueryParameter\n> = Transform<I, O>\n\nexport type ParseRequestError<\n  I extends JsonApiErrorData,\n  O extends JsonApiErrorData\n> = Transform<I, O>\n\nexport type ApiSetup = {\n  version: JsonApiVersion\n  defaultIncludeFields: DefaultIncludeFields\n  createPageQuery: CreatePageQuery<ApiQueryParameter, ApiQueryParameter>\n  parseRequestError: ParseRequestError<JsonApiErrorData, JsonApiErrorData>\n}\n\nexport type DefaultApiSetup = ApiSetupWithDefaults<{\n  version: JsonApiVersions['1_0']\n  defaultIncludeFields: DefaultIncludeFieldsOptions['NONE']\n  createPageQuery: <T extends ApiQueryParameter>(value: T) => T\n  parseRequestError: <T extends JsonApiErrorData>(value: T) => T\n}>\n\n// type PartialApiSetup = Partial<ApiSetup>\n\nexport type ApiSetupWithDefaults<T extends Partial<ApiSetup>> = Required<\n  {\n    [K in keyof ApiSetup]: K extends keyof T ? T[K] : DefaultApiSetup[K]\n  }\n>\n\nconst reflect = <T>(value: T): T => value\n\nexport const mergeApiDefaultSetup = mergeApiSetup({\n  version: jsonApiVersions['1_0'],\n  defaultIncludeFields: defaultIncludeFieldOptions.NONE,\n  createPageQuery: reflect as <T extends ApiQueryParameter>(value: T) => T,\n  parseRequestError: reflect as <T extends JsonApiErrorData>(value: T) => T,\n})\n"},"lineCount":null}},"error":null,"hash":"1b04ab22558cc34227cc5db18a78a55e","cacheData":{"env":{}}}